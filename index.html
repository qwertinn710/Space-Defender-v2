<!DOCTYPE html>
<html>
<head>
    <title>Space Defender</title>
    <style>
        *{margin:0;padding:0;}
        body{background:#000;display:flex;justify-content:center;align-items:center;height:100vh;overflow:hidden;}
        canvas{border:2px solid #0ff;background:#111;}
        #ui{position:fixed;top:10px;left:10px;color:#0ff;font:20px monospace;}
        #restart{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);padding:20px;background:#f00;color:#fff;border:none;display:none;font-size:24px;cursor:pointer;z-index:100;}
        #settings{position:fixed;top:10px;right:10px;color:#0ff;background:rgba(0,0,0,0.8);padding:15px;border:2px solid #0ff;border-radius:10px;}
        .setting{display:flex;align-items:center;margin:10px 0;}
        .setting label{margin-right:10px;}
        .setting select{padding:5px;background:#222;color:#0ff;border:1px solid #0ff;}
        #shoot-cooldown{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);width:200px;height:10px;background:#222;border:1px solid #0ff;display:none;}
        #cooldown-fill{height:100%;background:#0ff;transition:width 0.1s;}
        #pause{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);color:#ff0;font-size:48px;display:none;z-index:300;background:rgba(0,0,0,0.7);padding:20px;border:3px solid #ff0;border-radius:10px;}
        #shop{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);color:#0ff;padding:25px;border:3px solid #ff0;border-radius:15px;display:none;z-index:400;min-width:350px;}
        .shop-item{margin:15px 0;padding:15px;border:2px solid #0ff;cursor:pointer;border-radius:8px;transition:all 0.3s;}
        .shop-item:hover{background:rgba(255,255,0,0.2);transform:scale(1.05);}
        .shop-item.bought{border-color:#0f0;background:rgba(0,255,0,0.1);}
        .shop-item h3{margin:0 0 5px 0;color:#ff0;}
        .shop-item p{margin:5px 0;font-size:14px;}
        #controls{position:fixed;bottom:50px;left:10px;color:#0ff;font:16px monospace;background:rgba(0,0,0,0.7);padding:10px;border-radius:5px;}
        .buttons-row{display:flex;justify-content:space-between;gap:10px;margin-top:15px;}
        .menu-btn{padding:8px 15px;border:none;cursor:pointer;font-weight:bold;border-radius:5px;transition:all 0.3s;}
        .menu-btn:hover{transform:scale(1.05);opacity:0.9;}
        #shop-btn{background:#ff0;color:#000;}
        #pause-btn{background:#f00;color:#fff;}
        #exit-btn{background:#800080;color:#fff;margin-left:10px;}
        #difficulty{position:fixed;top:10px;left:50%;transform:translateX(-50%);color:#0ff;background:rgba(0,0,0,0.8);padding:10px 15px;border:2px solid #0ff;border-radius:10px;font:18px monospace;}
        #difficulty select{padding:5px;background:#222;color:#0ff;border:1px solid #0ff;margin-left:10px;font:16px monospace;}
        .difficulty-easy{color:#0f0;}
        .difficulty-normal{color:#ff0;}
        .difficulty-hard{color:#f90;}
        .difficulty-impossible{color:#f00;text-shadow:0 0 5px #f00;}
        #difficulty-indicator{display:inline-block;width:10px;height:10px;border-radius:50%;margin-right:5px;}
        .difficulty-easy #difficulty-indicator{background:#0f0;box-shadow:0 0 5px #0f0;}
        .difficulty-normal #difficulty-indicator{background:#ff0;box-shadow:0 0 5px #ff0;}
        .difficulty-hard #difficulty-indicator{background:#f90;box-shadow:0 0 5px #f90;}
        .difficulty-impossible #difficulty-indicator{background:#f00;box-shadow:0 0 5px #f00;}
        #main-menu{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:500;}
        .menu-title{color:#0ff;font-size:60px;margin-bottom:40px;text-shadow:0 0 10px #0ff;animation:pulse 2s infinite;}
        .menu-btn-large{padding:15px 40px;background:#0ff;color:#000;border:none;font-size:24px;margin:15px;cursor:pointer;border-radius:10px;transition:all 0.3s;font-weight:bold;}
        .menu-btn-large:hover{background:#ff0;transform:scale(1.1);box-shadow:0 0 20px #ff0;}
        .menu-subtitle{color:#ff0;font-size:20px;margin-top:30px;text-align:center;max-width:600px;}
        @keyframes pulse{0%{text-shadow:0 0 10px #0ff;}50%{text-shadow:0 0 20px #0ff,0 0 30px #0ff;}100%{text-shadow:0 0 10px #0ff;}}
        .game-manual{background:rgba(0,0,0,0.8);color:#0ff;padding:25px;border:3px solid #ff0;border-radius:15px;max-width:800px;max-height:70vh;overflow-y:auto;margin:20px;}
        .manual-section{margin-bottom:25px;}
        .manual-section h3{color:#ff0;margin-bottom:10px;border-bottom:2px solid #0ff;padding-bottom:5px;}
        .manual-section ul{margin-left:20px;}
        .manual-section li{margin:8px 0;line-height:1.5;}
        .key{display:inline-block;background:#222;color:#0ff;padding:2px 8px;border-radius:4px;border:1px solid #0ff;font-family:monospace;margin:0 3px;}
        .highlight{color:#ff0;font-weight:bold;}
        .warning{color:#f00;font-weight:bold;}
        .tip{color:#0f0;font-style:italic;}
        .dev-motto{text-align:center;padding:15px;margin:20px 0;background:rgba(255,100,0,0.2);border:2px solid #f90;border-radius:10px;font-size:22px;font-weight:bold;color:#ff6;}
        /* –ë–æ—Å—Å HP –±–∞—Ä */
        #boss-health-container{position:fixed;top:60px;left:50%;transform:translateX(-50%);width:500px;height:30px;background:#222;border:3px solid #f00;border-radius:15px;display:none;z-index:600;}
        #boss-health-bar{height:100%;background:linear-gradient(90deg,#f00,#f90);border-radius:12px;transition:width 0.3s;}
        #boss-health-text{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-weight:bold;font-size:18px;text-shadow:1px 1px 2px #000;}
        /* –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è */
        #achievements{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);color:#0ff;padding:30px;border:3px solid #ff0;border-radius:15px;display:none;z-index:700;min-width:500px;max-height:80vh;overflow-y:auto;}
        .achievement-item{padding:15px;margin:10px 0;border-radius:10px;background:rgba(255,255,255,0.1);border:2px solid #0ff;}
        .achievement-item.unlocked{border-color:#0f0;background:rgba(0,255,0,0.1);}
        .achievement-item.locked{border-color:#f00;background:rgba(255,0,0,0.1);opacity:0.7;}
        .achievement-icon{font-size:30px;margin-right:15px;}
        .boss-btn{background:linear-gradient(45deg,#f00,#f90)!important;color:#fff!important;}
        .boss-btn:hover{background:linear-gradient(45deg,#f90,#f00)!important;}
        /* –ú–µ–Ω—é –≤—ã—Ö–æ–¥–∞ */
        #exit-menu{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,0.95);color:#0ff;padding:30px;border:3px solid #f00;border-radius:15px;display:none;z-index:800;min-width:300px;text-align:center;}
        .exit-buttons{display:flex;gap:15px;margin-top:20px;}
        .exit-yes{background:#f00;color:#fff;flex:1;}
        .exit-no{background:#0f0;color:#000;flex:1;}
        /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π */
        .achievement-category{margin:20px 0 10px 0;padding-bottom:5px;border-bottom:2px solid #ff0;color:#ff0;font-size:22px;}
        .achievement-progress{float:right;color:#0ff;font-size:12px;}
    </style>
</head>
<body>
    <div id="main-menu">
        <div class="menu-title">üöÄ SPACE DEFENDER</div>
        <button class="menu-btn-large" onclick="startGame('normal')">–ù–ê–ß–ê–¢–¨ –ò–ì–†–£</button>
        <button class="menu-btn-large boss-btn" onclick="startBossFight()">‚öîÔ∏è –ë–ò–¢–í–ê –° –ë–û–°–°–û–ú</button>
        <button class="menu-btn-large" onclick="showControls()">–£–ü–†–ê–í–õ–ï–ù–ò–ï</button>
        <button class="menu-btn-large" onclick="showAbout()">–û–ë –ò–ì–†–ï</button>
        <button class="menu-btn-large" onclick="showAchievements()">üèÜ –î–û–°–¢–ò–ñ–ï–ù–ò–Ø</button>
        
        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
        <div id="controls-info" class="menu-subtitle" style="display:none;">
            <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:</h3>
            <p><span class="key">–§/–ê</span> - –≤—Ä–∞—â–µ–Ω–∏–µ –≤–ª–µ–≤–æ</p>
            <p><span class="key">–í/–î</span> - –≤—Ä–∞—â–µ–Ω–∏–µ –≤–ø—Ä–∞–≤–æ</p>
            <p><span class="key">–õ–ö–ú</span> - –≤—ã—Å—Ç—Ä–µ–ª (–≤ —Ä—É—á–Ω–æ–º —Ä–µ–∂–∏–º–µ)</p>
            <p><span class="key">P</span> - –ø–∞—É–∑–∞</p>
            <p><span class="key">B</span> - –º–∞–≥–∞–∑–∏–Ω</p>
            <p><span class="key">ESC</span> - –≤—ã—Ö–æ–¥ –≤ –º–µ–Ω—é</p>
            <button class="menu-btn-large" onclick="hideControls()" style="margin-top:20px;padding:10px 20px;font-size:18px;">–ù–ê–ó–ê–î</button>
        </div>
        
        <!-- –û–ë –ò–ì–†–ï -->
        <div id="about-info" class="game-manual" style="display:none;">
            <h2 style="color:#ff0;text-align:center;margin-bottom:20px;">üéÆ SPACE DEFENDER - –ü–û–õ–ù–û–ï –†–£–ö–û–í–û–î–°–¢–í–û</h2>
            
            <div class="dev-motto">
                ‚ö° "–ë–ê–ì–û–í –ù–ï–¢, –ï–°–¢–¨ –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ò–°–•–û–î–´" ‚ö°
            </div>
            
            <div class="manual-section">
                <h3>üéØ –¶–ï–õ–¨ –ò–ì–†–´</h3>
                <p>–í—ã - –ø–∏–ª–æ—Ç –∫–æ—Å–º–∏—á–µ—Å–∫–æ–≥–æ –∫–æ—Ä–∞–±–ª—è, –∑–∞—â–∏—â–∞—é—â–µ–≥–æ –≥–∞–ª–∞–∫—Ç–∏–∫—É –æ—Ç –≤—Ä–∞–∂–µ—Å–∫–∏—Ö –ù–õ–û. –í–∞—à–∞ –∑–∞–¥–∞—á–∞:</p>
                <ul>
                    <li>‚úÖ <span class="highlight">–í—ã–∂–∏–≤–∞—Ç—å</span> –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ</li>
                    <li>‚úÖ <span class="highlight">–£–Ω–∏—á—Ç–æ–∂–∞—Ç—å –≤—Ä–∞–≥–æ–≤</span> –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏</li>
                    <li>‚úÖ <span class="highlight">–ü—Ä–æ—Ö–æ–¥–∏—Ç—å –≤–æ–ª–Ω—ã</span> —Å —É–≤–µ–ª–∏—á–∏–≤–∞—é—â–µ–π—Å—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å—é</li>
                    <li>‚úÖ <span class="highlight">–ü–æ–∫—É–ø–∞—Ç—å —É–ª—É—á—à–µ–Ω–∏—è</span> –≤ –º–∞–≥–∞–∑–∏–Ω–µ</li>
                    <li>‚úÖ <span class="highlight">–ü–æ–±–µ–¥–∏—Ç—å –±–æ—Å—Å–∞</span> –∏ –ø–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–≥—Ä–∞–¥—ã!</li>
                    <li>‚úÖ <span class="highlight">–†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å 20 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π!</span></li>
                </ul>
            </div>
            
            <div class="manual-section">
                <h3>‚öîÔ∏è –°–ò–°–¢–ï–ú–ê –ë–û–°–°–û–í</h3>
                <h4>üëë –ë–û–°–° "–¢–ò–¢–ê–ù":</h4>
                <ul>
                    <li><span class="highlight">150 HP</span> - –æ–≥—Ä–æ–º–Ω—ã–π –∑–∞–ø–∞—Å –∑–¥–æ—Ä–æ–≤—å—è</li>
                    <li><span class="highlight">–°—Ç–∞—Ä—Ç—É–µ—Ç –≤ —Ü–µ–Ω—Ç—Ä–µ</span> - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è</li>
                    <li><span class="highlight">–ú–µ–¥–ª–µ–Ω–Ω—ã–π</span> - –≤ 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–±—ã—á–Ω—ã—Ö –≤—Ä–∞–≥–æ–≤</li>
                    <li><span class="highlight">25 —É—Ä–æ–Ω–∞ –∑–∞ –∫–∞—Å–∞–Ω–∏–µ</span> - –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–Ω –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏</li>
                    <li><span class="highlight">–û–±—ã—á–Ω—ã–π NPC</span> - –±–µ–∑ –æ—Å–æ–±—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π</li>
                    <li><span class="highlight">–ü–æ–ª–æ—Å–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–≤–µ—Ä—Ö—É</span> - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å</li>
                </ul>
                
                <h4>üèÜ –ù–ê–ì–†–ê–î–´ –ó–ê –ü–û–ë–ï–î–£:</h4>
                <ul>
                    <li><span class="highlight">–î–æ—Å—Ç–∏–∂–µ–Ω–∏–µ "–ü–æ–∫–æ—Ä–∏—Ç–µ–ª—å –¢–∏—Ç–∞–Ω–∞"</span></li>
                    <li><span class="highlight">–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã–π –∑–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω –∫–æ—Ä–∞–±–ª—è</span></li>
                    <li><span class="highlight">–ù–∏–∫–∞–∫–∏—Ö –±–æ–Ω—É—Å–Ω—ã—Ö –æ—á–∫–æ–≤!</span> - —Ç–æ–ª—å–∫–æ —á–µ—Å—Ç—å –∏ —Å–ª–∞–≤–∞!</li>
                </ul>
                
                <h4>üéØ –°–¢–†–ê–¢–ï–ì–ò–Ø –ü–†–û–¢–ò–í –ë–û–°–°–ê:</h4>
                <ul>
                    <li>1. –î–µ—Ä–∂–∏—Ç–µ –¥–∏—Å—Ç–∞–Ω—Ü–∏—é - <span class="warning">25 —É—Ä–æ–Ω–∞ –∑–∞ –∫–∞—Å–∞–Ω–∏–µ</span></li>
                    <li>2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ <span class="highlight">–∫—Ä—É–≥–æ–≤–æ–π –≤—ã—Å—Ç—Ä–µ–ª</span></li>
                    <li>3. –î–≤–∏–≥–∞–π—Ç–µ—Å—å –ø–æ <span class="highlight">–≤–æ—Å—å–º—ë—Ä–∫–µ</span></li>
                    <li>4. –°—Ç—Ä–µ–ª—è–π—Ç–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ</li>
                    <li>5. –ë–æ—Å—Å –º–µ–¥–ª–µ–Ω–Ω—ã–π - –ª–µ–≥–∫–æ —É–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è</li>
                </ul>
            </div>
            
            <div class="manual-section">
                <h3>üèÜ –°–ò–°–¢–ï–ú–ê –î–û–°–¢–ò–ñ–ï–ù–ò–ô</h3>
                <p>–í –∏–≥—Ä–µ 20 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –≤ 4 –∫–∞—Ç–µ–≥–æ—Ä–∏—è—Ö:</p>
                
                <h4>üéÆ –ù–û–í–ò–ß–û–ö (5 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π):</h4>
                <p>–ü—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –Ω–∞—á–∞–ª–∞ –∏–≥—Ä—ã</p>
                
                <h4>‚öîÔ∏è –û–ü–´–¢–ù–´–ô (5 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π):</h4>
                <p>–°—Ä–µ–¥–Ω–µ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞—á–∏</p>
                
                <h4>üî• –≠–ö–°–ü–ï–†–¢ (5 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π):</h4>
                <p>–°–ª–æ–∂–Ω—ã–µ –∏—Å–ø—ã—Ç–∞–Ω–∏—è –¥–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</p>
                
                <h4>üëë –õ–ï–ì–ï–ù–î–ê (5 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π):</h4>
                <p>–ü–æ—á—Ç–∏ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –∏—Å—Ç–∏–Ω–Ω—ã—Ö –º–∞—Å—Ç–µ—Ä–æ–≤</p>
                
                <p><span class="tip">–ü–æ–¥—Å–∫–∞–∑–∫–∞: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ç—Ä–µ–±—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π!</span></p>
            </div>
            
            <div class="manual-section">
                <h3>üöÄ –û–°–ù–û–í–ù–´–ï –ú–ï–•–ê–ù–ò–ö–ò</h3>
                
                <h4>üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª–µ–º:</h4>
                <ul>
                    <li><span class="key">–ú—ã—à—å</span> - –¥–≤–∏–∂–µ–Ω–∏–µ –∫–æ—Ä–∞–±–ª—è –∫ –∫—É—Ä—Å–æ—Ä—É</li>
                    <li><span class="key">–§/–ê</span> –∏–ª–∏ <span class="key">–°—Ç—Ä–µ–ª–∫–∞ –≤–ª–µ–≤–æ</span> - –≤—Ä–∞—â–µ–Ω–∏–µ –ø—Ä–æ—Ç–∏–≤ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–∏</li>
                    <li><span class="key">–í/–î</span> –∏–ª–∏ <span class="key">–°—Ç—Ä–µ–ª–∫–∞ –≤–ø—Ä–∞–≤–æ</span> - –≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ —á–∞—Å–æ–≤–æ–π —Å—Ç—Ä–µ–ª–∫–µ</li>
                    <li>–ù–æ—Å –∫–æ—Ä–∞–±–ª—è –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –≤–≤–µ—Ä—Ö, –Ω–æ —Å—Ç–≤–æ–ª –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è</li>
                </ul>
                
                <h4>üî´ –°–∏—Å—Ç–µ–º–∞ —Å—Ç—Ä–µ–ª—å–±—ã:</h4>
                <ul>
                    <li><span class="highlight">–£—Ä–æ–Ω –∑–∞ –≤—ã—Å—Ç—Ä–µ–ª: 1 HP</span></li>
                    <li><span class="highlight">–ù–∞–±–æ—Ä –æ—á–∫–æ–≤: √ó0.5</span> (–≤ 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–µ–µ)</li>
                    <li><span class="highlight">2 —Ä–µ–∂–∏–º–∞ —Å—Ç—Ä–µ–ª—å–±—ã:</span></li>
                    <li>‚Ä¢ <span class="key">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è</span> - –∫–æ—Ä–∞–±–ª—å —Å—Ç—Ä–µ–ª—è–µ—Ç —Å–∞–º</li>
                    <li>‚Ä¢ <span class="key">–†—É—á–Ω–∞—è</span> - –∫–ª–∏–∫ –õ–ö–ú –¥–ª—è –≤—ã—Å—Ç—Ä–µ–ª–∞</li>
                    <li>–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–µ—Ä–µ–∑–∞—Ä—è–¥–∫–∏ –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–æ–≥–¥–∞ –º–æ–∂–Ω–æ —Å—Ç—Ä–µ–ª—è—Ç—å</li>
                </ul>
                
                <h4>üéØ –¢–∏–ø—ã –≤—Ä–∞–≥–æ–≤:</h4>
                <ul>
                    <li><span style="color:#f00">üî¥ –†–∞–∑–≤–µ–¥—á–∏–∫</span> - –º–∞–ª–µ–Ω—å–∫–∏–π, –±—ã—Å—Ç—Ä—ã–π, 2 HP</li>
                    <li><span style="color:#0f0">üü¢ –¢–∞–Ω–∫</span> - –±–æ–ª—å—à–æ–π, –º–µ–¥–ª–µ–Ω–Ω—ã–π, 4 HP</li>
                    <li><span style="color:#ff0">üü° –ê—Å—Å–∞—Å–∏–Ω</span> - —Å—Ä–µ–¥–Ω–∏–π, –æ—á–µ–Ω—å –±—ã—Å—Ç—Ä—ã–π, 1 HP</li>
                    <li><span style="color:#f90">üü† –ë–æ—Å—Å "–¢–∏—Ç–∞–Ω"</span> - –æ–≥—Ä–æ–º–Ω—ã–π, –º–µ–¥–ª–µ–Ω–Ω—ã–π, 150 HP, 25 —É—Ä–æ–Ω–∞</li>
                </ul>
                
                <h4>‚ù§Ô∏è –°–∏—Å—Ç–µ–º–∞ –∑–¥–æ—Ä–æ–≤—å—è:</h4>
                <ul>
                    <li>–ù–∞—á–∞–ª—å–Ω–æ–µ –∑–¥–æ—Ä–æ–≤—å–µ: <span class="highlight">100 HP</span></li>
                    <li>–°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –≤—Ä–∞–≥–æ–º: <span class="warning">-10 HP</span></li>
                    <li>–°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –±–æ—Å—Å–æ–º: <span class="warning">-25 HP</span></li>
                    <li>–ó–¥–æ—Ä–æ–≤—å–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–¥ –∫–æ—Ä–∞–±–ª–µ–º –∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ</li>
                </ul>
            </div>
            
            <div class="manual-section">
                <h3>‚öôÔ∏è –°–ò–°–¢–ï–ú–ê –°–õ–û–ñ–ù–û–°–¢–ò</h3>
                <p>–í –∏–≥—Ä–µ 4 —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏:</p>
                
                <h4><span class="difficulty-easy">üü¢ –õ–Å–ì–ö–ò–ô</span></h4>
                <ul>
                    <li>‚Ä¢ –í—Ä–∞–≥–∏: –º–µ–¥–ª–µ–Ω–Ω—ã–µ, —Å–ª–∞–±—ã–µ</li>
                    <li>‚Ä¢ HP –≤—Ä–∞–≥–æ–≤: √ó1.0</li>
                    <li>‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å: √ó1.0</li>
                    <li>‚Ä¢ –ú–∞–∫—Å –≤—Ä–∞–≥–æ–≤: 5</li>
                    <li>‚Ä¢ –ë–æ–Ω—É—Å –æ—á–∫–æ–≤: +100%</li>
                    <li><span class="tip">–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤</span></li>
                </ul>
                
                <h4><span class="difficulty-normal">üü° –°–†–ï–î–ù–ò–ô</span></h4>
                <ul>
                    <li>‚Ä¢ –í—Ä–∞–≥–∏: —É–º–Ω–µ–µ, –±—ã—Å—Ç—Ä–µ–µ</li>
                    <li>‚Ä¢ HP –≤—Ä–∞–≥–æ–≤: √ó1.5</li>
                    <li>‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å: √ó1.4</li>
                    <li>‚Ä¢ –ú–∞–∫—Å –≤—Ä–∞–≥–æ–≤: 8</li>
                    <li>‚Ä¢ –ë–æ–Ω—É—Å –æ—á–∫–æ–≤: +150%</li>
                    <li><span class="tip">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å</span></li>
                </ul>
                
                <h4><span class="difficulty-hard">üü† –¢–Ø–ñ–Å–õ–´–ô</span></h4>
                <ul>
                    <li>‚Ä¢ –í—Ä–∞–≥–∏: —Å —É–∫–ª–æ–Ω–µ–Ω–∏–µ–º, —É–º–Ω—ã–µ</li>
                    <li>‚Ä¢ HP –≤—Ä–∞–≥–æ–≤: √ó2.2</li>
                    <li>‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å: √ó1.8</li>
                    <li>‚Ä¢ –ú–∞–∫—Å –≤—Ä–∞–≥–æ–≤: 12</li>
                    <li>‚Ä¢ –ë–æ–Ω—É—Å –æ—á–∫–æ–≤: +300%</li>
                    <li><span class="tip">–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö –∏–≥—Ä–æ–∫–æ–≤</span></li>
                </ul>
                
                <h4><span class="difficulty-impossible">üî¥ –ù–ï–í–û–ó–ú–û–ñ–ù–´–ô</span></h4>
                <ul>
                    <li>‚Ä¢ –í—Ä–∞–≥–∏: –Ω–µ—É—è–∑–≤–∏–º—ã–µ, –±—ã—Å—Ç—Ä—ã–µ</li>
                    <li>‚Ä¢ HP –≤—Ä–∞–≥–æ–≤: √ó3.5</li>
                    <li>‚Ä¢ –°–∫–æ—Ä–æ—Å—Ç—å: √ó2.5</li>
                    <li>‚Ä¢ –ú–∞–∫—Å –≤—Ä–∞–≥–æ–≤: 20</li>
                    <li>‚Ä¢ –ë–æ–Ω—É—Å –æ—á–∫–æ–≤: +500%</li>
                    <li><span class="warning">–¢–æ–ª—å–∫–æ –¥–ª—è –Ω–∞—Å—Ç–æ—è—â–∏—Ö —ç–∫—Å–ø–µ—Ä—Ç–æ–≤!</span></li>
                </ul>
            </div>
            
            <div class="manual-section">
                <h3>üè™ –°–ò–°–¢–ï–ú–ê –ú–ê–ì–ê–ó–ò–ù–ê</h3>
                <p>–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –æ—á–∫–∏ –∏ –ø–æ–∫—É–ø–∞–π—Ç–µ —É–ª—É—á—à–µ–Ω–∏—è (–Ω–∞–∂–º–∏—Ç–µ <span class="key">B</span> –≤–æ –≤—Ä–µ–º—è –∏–≥—Ä—ã):</p>
                
                <h4>üí∞ –¶–µ–Ω—ã –∏ —ç—Ñ—Ñ–µ–∫—Ç—ã:</h4>
                <ul>
                    <li><span class="highlight">‚ù§Ô∏è –ü–æ–ª–Ω–æ–µ –ª–µ—á–µ–Ω–∏–µ</span> - 100,000 –æ—á–∫–æ–≤</li>
                    <li><span class="highlight">‚ö° –î–≤–æ–π–Ω–æ–π –≤—ã—Å—Ç—Ä–µ–ª</span> - 5,000 –æ—á–∫–æ–≤</li>
                    <li><span class="highlight">‚ö°‚ö°‚ö° –¢—Ä–æ–π–Ω–æ–π –≤—ã—Å—Ç—Ä–µ–ª</span> - 15,000 –æ—á–∫–æ–≤</li>
                    <li><span class="highlight">üå™Ô∏è –í–µ–µ—Ä–Ω—ã–π –≤—ã—Å—Ç—Ä–µ–ª</span> - 30,000 –æ—á–∫–æ–≤</li>
                    <li><span class="highlight">üåÄ –í—ã—Å—Ç—Ä–µ–ª –≤–æ–∫—Ä—É–≥ —Å–µ–±—è</span> - 150,000 –æ—á–∫–æ–≤</li>
                </ul>
                
                <h4>üíé –ö–∞–∫ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏ (√ó0.5 –º–Ω–æ–∂–∏—Ç–µ–ª—å):</h4>
                <ul>
                    <li>‚Ä¢ –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ –≤—Ä–∞–≥–∞: <span class="highlight">+100 –æ—á–∫–æ–≤</span> (–±—ã–ª–æ 200)</li>
                    <li>‚Ä¢ –ü–æ–ø–∞–¥–∞–Ω–∏–µ –ø–æ –≤—Ä–∞–≥—É: <span class="highlight">+25 –æ—á–∫–æ–≤</span> (–±—ã–ª–æ 50)</li>
                    <li>‚Ä¢ –£–Ω–∏—á—Ç–æ–∂–µ–Ω–∏–µ —Ç–∞–Ω–∫–∞: <span class="highlight">+200 –æ—á–∫–æ–≤</span> (–±—ã–ª–æ 400)</li>
                    <li>‚Ä¢ –ë–æ–Ω—É—Å –∑–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç—å: –¥–æ <span class="highlight">+500%</span></li>
                    <li>‚Ä¢ –ó–∞ –∫–∞–∂–¥—É—é –≤–æ–ª–Ω—É: –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–æ–Ω—É—Å—ã</li>
                </ul>
            </div>
            
            <button class="menu-btn-large" onclick="hideAbout()" style="margin-top:30px;padding:12px 30px;font-size:20px;width:100%;">üèÅ –ù–ê–ß–ê–¢–¨ –ò–ì–†–£!</button>
        </div>
        
        <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
        <div id="achievements" class="menu-subtitle" style="display:none;">
            <h2 style="color:#ff0;text-align:center;margin-bottom:20px;">üèÜ –î–û–°–¢–ò–ñ–ï–ù–ò–Ø</h2>
            
            <div class="achievement-category">üéÆ –ù–û–í–ò–ß–û–ö</div>
            
            <div class="achievement-item" id="achievement-first-blood">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">ü©∏</div>
                    <div>
                        <h3 style="margin:0;">–ü–ï–†–í–ê–Ø –ö–†–û–í–¨</h3>
                        <p>–£–Ω–∏—á—Ç–æ–∂—å—Ç–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ä–∞–≥–∞</p>
                        <p style="color:#0f0;font-size:12px;" id="first-blood-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-first-wave">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üåä</div>
                    <div>
                        <h3 style="margin:0;">–ü–ï–†–í–ê–Ø –í–û–õ–ù–ê</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ 1 –≤–æ–ª–Ω—É</p>
                        <p style="color:#0f0;font-size:12px;" id="first-wave-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-shopper">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üõí</div>
                    <div>
                        <h3 style="margin:0;">–ü–û–ö–£–ü–ê–¢–ï–õ–¨</h3>
                        <p>–ö—É–ø–∏—Ç–µ –ø–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ</p>
                        <p style="color:#0f0;font-size:12px;" id="shopper-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-survivor">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üõ°Ô∏è</div>
                    <div>
                        <h3 style="margin:0;">–í–´–ñ–ò–í–®–ò–ô</h3>
                        <p>–ü—Ä–æ–∂–∏–≤–∏—Ç–µ 5 –º–∏–Ω—É—Ç –≤ –∏–≥—Ä–µ</p>
                        <p style="color:#0f0;font-size:12px;" id="survivor-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-richer">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üí∞</div>
                    <div>
                        <h3 style="margin:0;">–ë–û–ì–ê–ß</h3>
                        <p>–ù–∞–∫–æ–ø–∏—Ç–µ 10,000 –æ—á–∫–æ–≤</p>
                        <p style="color:#0f0;font-size:12px;" id="richer-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-category">‚öîÔ∏è –û–ü–´–¢–ù–´–ô</div>
            
            <div class="achievement-item" id="achievement-veteran">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üéñÔ∏è</div>
                    <div>
                        <h3 style="margin:0;">–í–ï–¢–ï–†–ê–ù</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ 10 –≤–æ–ª–Ω</p>
                        <p style="color:#0f0;font-size:12px;" id="veteran-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-sharpshooter">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üéØ</div>
                    <div>
                        <h3 style="margin:0;">–°–ù–ê–ô–ü–ï–†</h3>
                        <p>–£–Ω–∏—á—Ç–æ–∂—å—Ç–µ 100 –≤—Ä–∞–≥–æ–≤</p>
                        <p style="color:#0f0;font-size:12px;" id="sharpshooter-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-tankbuster">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üéØ</div>
                    <div>
                        <h3 style="margin:0;">–£–ù–ò–ß–¢–û–ñ–ò–¢–ï–õ–¨ –¢–ê–ù–ö–û–í</h3>
                        <p>–£–Ω–∏—á—Ç–æ–∂—å—Ç–µ 50 —Ç–∞–Ω–∫–æ–≤</p>
                        <p style="color:#0f0;font-size:12px;" id="tankbuster-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-millionaire">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üíµ</div>
                    <div>
                        <h3 style="margin:0;">–ú–ò–õ–õ–ò–û–ù–ï–†</h3>
                        <p>–ù–∞–∫–æ–ø–∏—Ç–µ 100,000 –æ—á–∫–æ–≤</p>
                        <p style="color:#0f0;font-size:12px;" id="millionaire-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-upgrader">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">‚ö°</div>
                    <div>
                        <h3 style="margin:0;">–ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –ê–ü–ì–†–ï–ô–î</h3>
                        <p>–ö—É–ø–∏—Ç–µ –≤—Å–µ —É–ª—É—á—à–µ–Ω–∏—è</p>
                        <p style="color:#0f0;font-size:12px;" id="upgrader-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-category">üî• –≠–ö–°–ü–ï–†–¢</div>
            
            <div class="achievement-item" id="achievement-hard-survivor">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üíÄ</div>
                    <div>
                        <h3 style="margin:0;">–í–´–ñ–ò–í–®–ò–ô –ù–ê –°–õ–û–ñ–ù–û–ú</h3>
                        <p>–ü—Ä–æ–∂–∏–≤–∏—Ç–µ 10 –º–∏–Ω—É—Ç –Ω–∞ "–¢—è–∂–µ–ª–æ–π" —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="color:#0f0;font-size:12px;" id="hard-survivor-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-perfect">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">‚≠ê</div>
                    <div>
                        <h3 style="margin:0;">–ò–î–ï–ê–õ–¨–ù–ê–Ø –í–û–õ–ù–ê</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ –≤–æ–ª–Ω—É –±–µ–∑ –ø–æ–ª—É—á–µ–Ω–∏—è —É—Ä–æ–Ω–∞</p>
                        <p style="color:#0f0;font-size:12px;" id="perfect-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-wave-king">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üëë</div>
                    <div>
                        <h3 style="margin:0;">–ö–û–†–û–õ–¨ –í–û–õ–ù</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ 25 –≤–æ–ª–Ω</p>
                        <p style="color:#0f0;font-size:12px;" id="wave-king-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-boss-slayer">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">‚öîÔ∏è</div>
                    <div>
                        <h3 style="margin:0;">–£–ë–ò–ô–¶–ê –ë–û–°–°–û–í</h3>
                        <p>–ü–æ–±–µ–¥–∏—Ç–µ –±–æ—Å—Å–∞ "–¢–∏—Ç–∞–Ω"</p>
                        <p style="color:#0f0;font-size:12px;" id="boss-slayer-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-golden-skin">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üé®</div>
                    <div>
                        <h3 style="margin:0;">–ó–û–õ–û–¢–û–ô –°–ö–ò–ù</h3>
                        <p>–ü–æ–ª—É—á–∏—Ç–µ –∑–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω –∫–æ—Ä–∞–±–ª—è</p>
                        <p style="color:#0f0;font-size:12px;" id="golden-skin-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-category">üëë –õ–ï–ì–ï–ù–î–ê</div>
            
            <div class="achievement-item" id="achievement-impossible-hero">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">ü¶∏</div>
                    <div>
                        <h3 style="margin:0;">–ì–ï–†–û–ô –ù–ï–í–û–ó–ú–û–ñ–ù–û–ì–û</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ 5 –≤–æ–ª–Ω –Ω–∞ "–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ–π" —Å–ª–æ–∂–Ω–æ—Å—Ç–∏</p>
                        <p style="color:#0f0;font-size:12px;" id="impossible-hero-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-no-shop">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üö´</div>
                    <div>
                        <h3 style="margin:0;">–ë–ï–ó –ú–ê–ì–ê–ó–ò–ù–ê</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ 15 –≤–æ–ª–Ω –±–µ–∑ –ø–æ–∫—É–ø–æ–∫</p>
                        <p style="color:#0f0;font-size:12px;" id="no-shop-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-speedrun">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">‚ö°</div>
                    <div>
                        <h3 style="margin:0;">–°–ö–û–†–û–°–¢–ù–û–ô –ó–ê–ë–ï–ì</h3>
                        <p>–ü—Ä–æ–π–¥–∏—Ç–µ 10 –≤–æ–ª–Ω –∑–∞ 5 –º–∏–Ω—É—Ç</p>
                        <p style="color:#0f0;font-size:12px;" id="speedrun-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-master">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üèÜ</div>
                    <div>
                        <h3 style="margin:0;">–ú–ê–°–¢–ï–† –ò–ì–†–´</h3>
                        <p>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ 15 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</p>
                        <p style="color:#0f0;font-size:12px;" id="master-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div class="achievement-item" id="achievement-legend">
                <div style="display:flex;align-items:center;">
                    <div class="achievement-icon">üåü</div>
                    <div>
                        <h3 style="margin:0;">–õ–ï–ì–ï–ù–î–ê –ì–ê–õ–ê–ö–¢–ò–ö–ò</h3>
                        <p>–†–∞–∑–±–ª–æ–∫–∏—Ä—É–π—Ç–µ –≤—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</p>
                        <p style="color:#0f0;font-size:12px;" id="legend-status">üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ</p>
                    </div>
                </div>
            </div>
            
            <div style="text-align:center;margin-top:20px;color:#ff0;">
                <div>–í—Å–µ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π: <span id="total-achievements">0</span>/20</div>
                <div style="margin-top:10px;font-size:14px;color:#0ff;">
                    –ü—Ä–æ–≥—Ä–µ—Å—Å: <span id="achievements-progress">0%</span>
                </div>
            </div>
            
            <button class="menu-btn-large" onclick="hideAchievements()" style="margin-top:20px;padding:10px 20px;font-size:18px;width:100%;">–ù–ê–ó–ê–î</button>
        </div>
    </div>
    
    <!-- –ú–µ–Ω—é –≤—ã—Ö–æ–¥–∞ -->
    <div id="exit-menu">
        <h2 style="color:#ff0;">üö™ –í–´–•–û–î –í –ú–ï–ù–Æ</h2>
        <p style="color:#0ff;margin:20px 0;">–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –≤—ã–π—Ç–∏?</p>
        <p style="color:#f90;font-size:14px;">–í–µ—Å—å –ø—Ä–æ–≥—Ä–µ—Å—Å –≤ —Ç–µ–∫—É—â–µ–π –∏–≥—Ä–µ –±—É–¥–µ—Ç –ø–æ—Ç–µ—Ä—è–Ω</p>
        <div class="exit-buttons">
            <button class="menu-btn exit-yes" onclick="returnToMainMenu()">–î–ê, –í–´–ô–¢–ò</button>
            <button class="menu-btn exit-no" onclick="hideExitMenu()">–ù–ï–¢, –û–°–¢–ê–¢–¨–°–Ø</button>
        </div>
    </div>
    
    <canvas id="game"></canvas>
    
    <!-- –ë–æ—Å—Å HP –±–∞—Ä -->
    <div id="boss-health-container">
        <div id="boss-health-bar" style="width:100%"></div>
        <div id="boss-health-text">üëë –ë–û–°–°: 150/150 HP</div>
    </div>
    
    <div id="ui">Score: 0 | Wave: 1 | ‚ù§Ô∏è 100</div>
    <div id="difficulty" class="difficulty-easy">
        <span id="difficulty-indicator"></span>–°–ª–æ–∂–Ω–æ—Å—Ç—å:
        <select id="difficulty-level" onchange="changeDifficulty()">
            <option value="easy" selected>–õ—ë–≥–∫–∏–π</option>
            <option value="normal">–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="hard">–¢—è–∂–µ–ª—ã–π</option>
            <option value="impossible">–ù–µ–≤–æ–∑–º–æ–∂–Ω—ã–π</option>
        </select>
    </div>
    <div id="controls">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –§/–ê - –≤–ª–µ–≤–æ, –í/–î - –≤–ø—Ä–∞–≤–æ | –õ–ö–ú - –≤—ã—Å—Ç—Ä–µ–ª | P - –ø–∞—É–∑–∞ | B - –º–∞–≥–∞–∑–∏–Ω | ESC - –≤—ã—Ö–æ–¥</div>
    
    <div id="settings">
        <h3 style="color:#ff0;margin-bottom:10px;">‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ò</h3>
        <div class="setting">
            <label>–¢–∏–ø —Å—Ç—Ä–µ–ª—å–±—ã:</label>
            <select id="shoot-type" onchange="changeShootType()">
                <option value="auto">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è</option>
                <option value="manual">–ü–æ –∫–ª–∏–∫—É (–õ–ö–ú)</option>
            </select>
        </div>
        <div class="setting">
            <label>–°–∫–æ—Ä–æ—Å—Ç—å —Å—Ç—Ä–µ–ª—å–±—ã:</label>
            <select id="fire-rate" onchange="changeFireRate()">
                <option value="slow">–ú–µ–¥–ª–µ–Ω–Ω–æ</option>
                <option value="normal" selected>–ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
                <option value="fast">–ë—ã—Å—Ç—Ä–æ</option>
            </select>
        </div>
        <div class="setting">
            <label>–†–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã:</label>
            <select id="map-size" onchange="changeMapSize()">
                <option value="small">–ú–∞–ª–µ–Ω—å–∫–∏–π (800√ó600)</option>
                <option value="medium">–°—Ä–µ–¥–Ω–∏–π (1000√ó750)</option>
                <option value="large" selected>–ë–æ–ª—å—à–æ–π (1200√ó900)</option>
                <option value="huge">–û–≥—Ä–æ–º–Ω—ã–π (1400√ó1050)</option>
            </select>
        </div>
        <div class="buttons-row">
            <button class="menu-btn" id="shop-btn" onclick="toggleShop()">üè™ –ú–ê–ì–ê–ó–ò–ù (B)</button>
            <button class="menu-btn" id="pause-btn" onclick="togglePause()">‚è∏ –ü–ê–£–ó–ê (P)</button>
            <button class="menu-btn" id="exit-btn" onclick="showExitMenu()">üö™ –í–´–•–û–î</button>
        </div>
    </div>
    
    <div id="shop">
        <h2 style="color:#ff0;text-align:center;margin-bottom:20px;">üè™ –ú–ê–ì–ê–ó–ò–ù –£–õ–£–ß–®–ï–ù–ò–ô</h2>
        <div class="shop-item" id="shop-heal" onclick="buyHeal(100000)">
            <h3>‚ù§Ô∏è –ü–æ–ª–Ω–æ–µ –ª–µ—á–µ–Ω–∏–µ</h3>
            <p>–¶–µ–Ω–∞: <span style="color:#ff0">100,000</span> –æ—á–∫–æ–≤</p>
            <p>–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–¥–æ—Ä–æ–≤—å–µ –¥–æ –º–∞–∫—Å–∏–º—É–º–∞</p>
            <p style="color:#0f0;font-size:12px;" id="status-heal">–î–æ—Å—Ç—É–ø–Ω–æ</p>
        </div>
        <div class="shop-item" id="shop-double" onclick="buyUpgrade('double', 5000)">
            <h3>‚ö° –î–≤–æ–π–Ω–æ–π –≤—ã—Å—Ç—Ä–µ–ª</h3>
            <p>–¶–µ–Ω–∞: <span style="color:#ff0">5,000</span> –æ—á–∫–æ–≤</p>
            <p>–î–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –ø—É–ª–∏</p>
            <p style="color:#0f0;font-size:12px;" id="status-double">–ù–µ –∫—É–ø–ª–µ–Ω–æ</p>
        </div>
        <div class="shop-item" id="shop-triple" onclick="buyUpgrade('triple', 15000)">
            <h3>‚ö°‚ö°‚ö° –¢—Ä–æ–π–Ω–æ–π –≤—ã—Å—Ç—Ä–µ–ª</h3>
            <p>–¶–µ–Ω–∞: <span style="color:#ff0">15,000</span> –æ—á–∫–æ–≤</p>
            <p>–¢—Ä–∏ –ø—É–ª–∏ —Å –Ω–µ–±–æ–ª—å—à–∏–º —Ä–∞–∑–±—Ä–æ—Å–æ–º</p>
            <p style="color:#0f0;font-size:12px;" id="status-triple">–ù–µ –∫—É–ø–ª–µ–Ω–æ</p>
        </div>
        <div class="shop-item" id="shop-spread" onclick="buyUpgrade('spread', 30000)">
            <h3>üå™Ô∏è –í–µ–µ—Ä–Ω—ã–π –≤—ã—Å—Ç—Ä–µ–ª</h3>
            <p>–¶–µ–Ω–∞: <span style="color:#ff0">30,000</span> –æ—á–∫–æ–≤</p>
            <p>–ü—è—Ç—å –ø—É–ª–∏ –≤–µ–µ—Ä–æ–º –≤ —à–∏—Ä–æ–∫–æ–º —Å–µ–∫—Ç–æ—Ä–µ</p>
            <p style="color:#0f0;font-size:12px;" id="status-spread">–ù–µ –∫—É–ø–ª–µ–Ω–æ</p>
        </div>
        <div class="shop-item" id="shop-circle" onclick="buyUpgrade('circle', 150000)">
            <h3>üåÄ –í—ã—Å—Ç—Ä–µ–ª –≤–æ–∫—Ä—É–≥ —Å–µ–±—è</h3>
            <p>–¶–µ–Ω–∞: <span style="color:#ff0">150,000</span> –æ—á–∫–æ–≤</p>
            <p>8 –ø—É–ª—å –≤–æ –≤—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ</p>
            <p style="color:#0f0;font-size:12px;" id="status-circle">–ù–µ –∫—É–ø–ª–µ–Ω–æ</p>
        </div>
        <button onclick="toggleShop()" style="margin-top:20px;padding:12px;width:100%;background:#f00;color:#fff;border:none;cursor:pointer;font-size:16px;border-radius:5px;">–ó–ê–ö–†–´–¢–¨</button>
    </div>
    
    <div id="pause">PAUSE</div>
    
    <div id="shoot-cooldown">
        <div id="cooldown-fill" style="width:0%"></div>
    </div>
    
    <button id="restart" onclick="init()">PLAY AGAIN</button>
    
    <script>
        const c=document.getElementById('game');
        const ctx=c.getContext('2d');
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–∞—Ä—Ç—ã
        const mapSizes = {
            small: { width: 800, height: 600, stars: 200 },
            medium: { width: 1000, height: 750, stars: 250 },
            large: { width: 1200, height: 900, stars: 300 },
            huge: { width: 1400, height: 1050, stars: 350 }
        };
        
        // –¢–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –∫–∞—Ä—Ç—ã
        let currentMapSize = 'large';
        c.width = mapSizes[currentMapSize].width;
        c.height = mapSizes[currentMapSize].height;
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        let settings={
            shootType:'auto',
            fireRate:'normal',
            bulletType:'single',
            difficulty: 'easy',
            mapSize: 'large'
        };
        
        let player={
            x:0,y:0,
            size:30,
            hp:100,
            maxHp:100,
            score:0,
            wave:1,
            canShoot:true,
            shootCooldown:0,
            maxCooldown:300,
            rotation:0,
            unlockedUpgrades: [],
            hasGoldSkin: false,
            achievements: {
                // –°—Ç–∞—Ä—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                bossDefeated: false,
                impossibleCompleted: false,
                millionPoints: false,
                
                // –ù–æ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (20 —à—Ç—É–∫)
                firstBlood: false,
                firstWave: false,
                shopper: false,
                survivor: false,
                richer: false,
                veteran: false,
                sharpshooter: false,
                tankbuster: false,
                millionaire: false,
                upgrader: false,
                hardSurvivor: false,
                perfect: false,
                waveKing: false,
                bossSlayer: false,
                goldenSkin: false,
                impossibleHero: false,
                noShop: false,
                speedrun: false,
                master: false,
                legend: false
            },
            stats: {
                enemiesKilled: 0,
                tanksKilled: 0,
                timePlayed: 0,
                wavesWithoutDamage: 0,
                shopPurchases: 0,
                startTime: 0,
                currentWaveStartTime: 0,
                wavesCompleted: 0,
                perfectWave: false
            }
        };
        
        let bullets=[],enemies=[],particles=[];
        let mouse={x:0,y:0};
        let lastShotTime=0;
        let paused=false;
        let keys={};
        let gameStarted=false;
        let bossFight=false;
        let boss=null;
        
        // –ú–Ω–æ–∂–∏—Ç–µ–ª—å –æ—á–∫–æ–≤ (–≤ 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–µ–µ)
        const SCORE_MULTIPLIER = 0.5;
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        const difficultySettings = {
            easy: {
                spawnRate: 0.02,
                hpMultiplier: 1.0,
                speedMultiplier: 1.0,
                damageMultiplier: 1.0,
                maxEnemies: 5,
                evasion: 0.0,
                accuracy: 0.3,
                spawnBonus: 0,
                colorClass: 'difficulty-easy',
                description: '–î–ª—è –Ω–æ–≤–∏—á–∫–æ–≤'
            },
            normal: {
                spawnRate: 0.035,
                hpMultiplier: 1.5,
                speedMultiplier: 1.4,
                damageMultiplier: 1.5,
                maxEnemies: 8,
                evasion: 0.1,
                accuracy: 0.5,
                spawnBonus: 2,
                colorClass: 'difficulty-normal',
                description: '–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–∑–æ–≤'
            },
            hard: {
                spawnRate: 0.05,
                hpMultiplier: 2.2,
                speedMultiplier: 1.8,
                damageMultiplier: 2.0,
                maxEnemies: 12,
                evasion: 0.2,
                accuracy: 0.7,
                spawnBonus: 4,
                colorClass: 'difficulty-hard',
                description: '–î–ª—è –æ–ø—ã—Ç–Ω—ã—Ö'
            },
            impossible: {
                spawnRate: 0.08,
                hpMultiplier: 3.5,
                speedMultiplier: 2.5,
                damageMultiplier: 3.0,
                maxEnemies: 20,
                evasion: 0.3,
                accuracy: 0.9,
                spawnBonus: 8,
                colorClass: 'difficulty-impossible',
                description: '–¢–æ–ª—å–∫–æ –¥–ª—è –ª—É—á—à–∏—Ö'
            }
        };
        
        // –§–∏–∑–∏–∫–∞
        function distance(x1,y1,x2,y2){
            return Math.sqrt((x1-x2)**2+(y1-y2)**2);
        }
        
        // –ù–∞—á–∞–ª—å–Ω–æ–µ –º–µ–Ω—é
        function startGame(mode){
            document.getElementById('main-menu').style.display='none';
            gameStarted=true;
            bossFight = (mode === 'boss');
            init();
        }
        
        function startBossFight(){
            startGame('boss');
        }
        
        function showControls(){
            document.getElementById('controls-info').style.display='block';
            document.getElementById('about-info').style.display='none';
            document.getElementById('achievements').style.display='none';
        }
        
        function hideControls(){
            document.getElementById('controls-info').style.display='none';
        }
        
        function showAbout(){
            document.getElementById('about-info').style.display='block';
            document.getElementById('controls-info').style.display='none';
            document.getElementById('achievements').style.display='none';
        }
        
        function hideAbout(){
            document.getElementById('about-info').style.display='none';
        }
        
        function showAchievements(){
            updateAchievementsDisplay();
            document.getElementById('achievements').style.display='block';
            document.getElementById('controls-info').style.display='none';
            document.getElementById('about-info').style.display='none';
        }
        
        function hideAchievements(){
            document.getElementById('achievements').style.display='none';
        }
        
        // –ú–µ–Ω—é –≤—ã—Ö–æ–¥–∞
        function showExitMenu(){
            if(!gameStarted) return;
            paused = true;
            document.getElementById('exit-menu').style.display = 'block';
        }
        
        function hideExitMenu(){
            document.getElementById('exit-menu').style.display = 'none';
            paused = false;
        }
        
        function returnToMainMenu(){
            gameStarted = false;
            bossFight = false;
            paused = false;
            
            document.getElementById('exit-menu').style.display = 'none';
            document.getElementById('main-menu').style.display = 'flex';
            document.getElementById('pause').style.display = 'none';
            document.getElementById('shop').style.display = 'none';
            document.getElementById('boss-health-container').style.display = 'none';
            document.getElementById('restart').style.display = 'none';
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function updateAchievementsDisplay(){
            const achievements = player.achievements;
            let unlockedCount = 0;
            const totalCount = 20;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥–æ–≥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            for(const key in achievements){
                if(key !== 'stats'){ // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º stats –æ–±—ä–µ–∫—Ç
                    const item = document.getElementById(`achievement-${key}`);
                    if(item){
                        const status = document.getElementById(`${key}-status`);
                        if(achievements[key]){
                            item.classList.remove('locked');
                            item.classList.add('unlocked');
                            status.textContent = '‚úÖ –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ';
                            status.style.color = '#0f0';
                            unlockedCount++;
                        } else {
                            item.classList.remove('unlocked');
                            item.classList.add('locked');
                            status.textContent = 'üîí –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ';
                            status.style.color = '#f00';
                        }
                    }
                }
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            document.getElementById('total-achievements').textContent = unlockedCount;
            const progress = Math.round((unlockedCount / totalCount) * 100);
            document.getElementById('achievements-progress').textContent = `${progress}%`;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            saveAchievements();
        }
        
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function checkAchievements(){
            const stats = player.stats;
            const achievements = player.achievements;
            
            // –ù–û–í–ò–ß–û–ö
            if(stats.enemiesKilled >= 1 && !achievements.firstBlood){
                achievements.firstBlood = true;
                showAchievementNotification("ü©∏ –ü–ï–†–í–ê–Ø –ö–†–û–í–¨", "–£–Ω–∏—á—Ç–æ–∂–µ–Ω –ø–µ—Ä–≤—ã–π –≤—Ä–∞–≥!");
            }
            
            if(player.wave >= 2 && !achievements.firstWave){
                achievements.firstWave = true;
                showAchievementNotification("üåä –ü–ï–†–í–ê–Ø –í–û–õ–ù–ê", "–ü–µ—Ä–≤–∞—è –≤–æ–ª–Ω–∞ –ø—Ä–æ–π–¥–µ–Ω–∞!");
            }
            
            if(player.unlockedUpgrades.length > 0 && !achievements.shopper){
                achievements.shopper = true;
                showAchievementNotification("üõí –ü–û–ö–£–ü–ê–¢–ï–õ–¨", "–ü–µ—Ä–≤–æ–µ —É–ª—É—á—à–µ–Ω–∏–µ –∫—É–ø–ª–µ–Ω–æ!");
            }
            
            if(stats.timePlayed >= 300 && !achievements.survivor){
                achievements.survivor = true;
                showAchievementNotification("üõ°Ô∏è –í–´–ñ–ò–í–®–ò–ô", "5 –º–∏–Ω—É—Ç –≤—ã–∂–∏–≤–∞–Ω–∏—è!");
            }
            
            if(player.score >= 10000 && !achievements.richer){
                achievements.richer = true;
                showAchievementNotification("üí∞ –ë–û–ì–ê–ß", "–ù–∞–∫–æ–ø–ª–µ–Ω–æ 10,000 –æ—á–∫–æ–≤!");
            }
            
            // –û–ü–´–¢–ù–´–ô
            if(player.wave >= 10 && !achievements.veteran){
                achievements.veteran = true;
                showAchievementNotification("üéñÔ∏è –í–ï–¢–ï–†–ê–ù", "10 –≤–æ–ª–Ω –ø—Ä–æ–π–¥–µ–Ω–æ!");
            }
            
            if(stats.enemiesKilled >= 100 && !achievements.sharpshooter){
                achievements.sharpshooter = true;
                showAchievementNotification("üéØ –°–ù–ê–ô–ü–ï–†", "100 –≤—Ä–∞–≥–æ–≤ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–æ!");
            }
            
            if(stats.tanksKilled >= 50 && !achievements.tankbuster){
                achievements.tankbuster = true;
                showAchievementNotification("üéØ –£–ù–ò–ß–¢–û–ñ–ò–¢–ï–õ–¨ –¢–ê–ù–ö–û–í", "50 —Ç–∞–Ω–∫–æ–≤ —É–Ω–∏—á—Ç–æ–∂–µ–Ω–æ!");
            }
            
            if(player.score >= 100000 && !achievements.millionaire){
                achievements.millionaire = true;
                showAchievementNotification("üíµ –ú–ò–õ–õ–ò–û–ù–ï–†", "100,000 –æ—á–∫–æ–≤ –Ω–∞–∫–æ–ø–ª–µ–Ω–æ!");
            }
            
            if(player.unlockedUpgrades.length >= 4 && !achievements.upgrader){
                achievements.upgrader = true;
                showAchievementNotification("‚ö° –ú–ê–ö–°–ò–ú–ê–õ–¨–ù–´–ô –ê–ü–ì–†–ï–ô–î", "–í—Å–µ —É–ª—É—á—à–µ–Ω–∏—è –∫—É–ø–ª–µ–Ω—ã!");
            }
            
            // –≠–ö–°–ü–ï–†–¢
            if(settings.difficulty === 'hard' && stats.timePlayed >= 600 && !achievements.hardSurvivor){
                achievements.hardSurvivor = true;
                showAchievementNotification("üíÄ –í–´–ñ–ò–í–®–ò–ô –ù–ê –°–õ–û–ñ–ù–û–ú", "10 –º–∏–Ω—É—Ç –Ω–∞ —Ç—è–∂–µ–ª–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏!");
            }
            
            if(stats.perfectWave && !achievements.perfect){
                achievements.perfect = true;
                showAchievementNotification("‚≠ê –ò–î–ï–ê–õ–¨–ù–ê–Ø –í–û–õ–ù–ê", "–í–æ–ª–Ω–∞ –ø—Ä–æ–π–¥–µ–Ω–∞ –±–µ–∑ —É—Ä–æ–Ω–∞!");
                stats.perfectWave = false; // –°–±—Ä–æ—Å —Ñ–ª–∞–≥–∞
            }
            
            if(player.wave >= 25 && !achievements.waveKing){
                achievements.waveKing = true;
                showAchievementNotification("üëë –ö–û–†–û–õ–¨ –í–û–õ–ù", "25 –≤–æ–ª–Ω –ø—Ä–æ–π–¥–µ–Ω–æ!");
            }
            
            if(achievements.bossSlayer){
                achievements.bossSlayer = true;
                // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–±–µ–¥–µ –Ω–∞–¥ –±–æ—Å—Å–æ–º
            }
            
            if(achievements.goldenSkin){
                achievements.goldenSkin = true;
                // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∫–∏–Ω–∞
            }
            
            // –õ–ï–ì–ï–ù–î–ê
            if(settings.difficulty === 'impossible' && player.wave >= 5 && !achievements.impossibleHero){
                achievements.impossibleHero = true;
                showAchievementNotification("ü¶∏ –ì–ï–†–û–ô –ù–ï–í–û–ó–ú–û–ñ–ù–û–ì–û", "5 –≤–æ–ª–Ω –Ω–∞ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–π —Å–ª–æ–∂–Ω–æ—Å—Ç–∏!");
            }
            
            if(player.wave >= 15 && stats.shopPurchases === 0 && !achievements.noShop){
                achievements.noShop = true;
                showAchievementNotification("üö´ –ë–ï–ó –ú–ê–ì–ê–ó–ò–ù–ê", "15 –≤–æ–ª–Ω –±–µ–∑ –ø–æ–∫—É–ø–æ–∫!");
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–≥–æ –∑–∞–±–µ–≥–∞
            if(player.wave >= 10){
                const timeTaken = Date.now() - stats.startTime;
                if(timeTaken <= 300000 && !achievements.speedrun){ // 5 –º–∏–Ω—É—Ç = 300000 –º—Å
                    achievements.speedrun = true;
                    showAchievementNotification("‚ö° –°–ö–û–†–û–°–¢–ù–û–ô –ó–ê–ë–ï–ì", "10 –≤–æ–ª–Ω –∑–∞ 5 –º–∏–Ω—É—Ç!");
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Ç–µ—Ä –∏–≥—Ä—ã
            let unlockedAchievementsCount = 0;
            for(const key in achievements){
                if(key !== 'stats' && achievements[key]){
                    unlockedAchievementsCount++;
                }
            }
            
            if(unlockedAchievementsCount >= 15 && !achievements.master){
                achievements.master = true;
                showAchievementNotification("üèÜ –ú–ê–°–¢–ï–† –ò–ì–†–´", "15 –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ!");
            }
            
            if(unlockedAchievementsCount >= 20 && !achievements.legend){
                achievements.legend = true;
                showAchievementNotification("üåü –õ–ï–ì–ï–ù–î–ê –ì–ê–õ–ê–ö–¢–ò–ö–ò", "–í—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã!");
            }
            
            updateAchievementsDisplay();
        }
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏
        function showAchievementNotification(title, description){
            // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 100px;
                right: 20px;
                background: linear-gradient(45deg, #0f0, #0a0);
                color: #fff;
                padding: 15px;
                border-radius: 10px;
                border: 3px solid #ff0;
                z-index: 9999;
                animation: slideIn 0.5s, slideOut 0.5s 2.5s;
                max-width: 300px;
                box-shadow: 0 0 20px #0f0;
            `;
            
            notification.innerHTML = `
                <div style="font-size: 18px; font-weight: bold; margin-bottom: 5px;">üèÜ ${title}</div>
                <div style="font-size: 14px;">${description}</div>
            `;
            
            document.body.appendChild(notification);
            
            // –£–¥–∞–ª—è–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
            setTimeout(() => {
                if(notification.parentNode){
                    notification.parentNode.removeChild(notification);
                }
            }, 3000);
        }
        
        // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
        
        // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã
        function changeMapSize(){
            if(gameStarted && !paused) {
                if(!confirm("–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–∞—Ä—Ç—ã –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç –∏–≥—Ä—É. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?")) {
                    document.getElementById('map-size').value = settings.mapSize;
                    return;
                }
            }
            
            settings.mapSize = document.getElementById('map-size').value;
            currentMapSize = settings.mapSize;
            
            c.width = mapSizes[currentMapSize].width;
            c.height = mapSizes[currentMapSize].height;
            
            if(gameStarted) {
                init();
            }
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –±–æ—Å—Å–∞
        function createBoss(){
            // –ë–æ—Å—Å –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ü–µ–Ω—Ç—Ä–µ, –∏–≥—Ä–æ–∫ - –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –ø–æ–∑–∏—Ü–∏–∏
            boss = {
                x: c.width/2,
                y: c.height/2,
                size: 60,
                speed: 2, // –í 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ (–±—ã–ª–æ 4)
                color: '#f90',
                hp: 150,
                maxHp: 150,
                rotation: 0,
                type: 'boss',
                lastMoveTime: Date.now(),
                spawnDelay: 3000,
                spawnTime: Date.now()
            };
            
            // –ò–≥—Ä–æ–∫ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
            player.x = 100;
            player.y = 100;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–ª–æ—Å–∫—É –∑–¥–æ—Ä–æ–≤—å—è –±–æ—Å—Å–∞
            document.getElementById('boss-health-container').style.display = 'block';
            updateBossHealthBar();
            
            // –°–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞—á–∞–ª–µ –±–∏—Ç–≤—ã
            setTimeout(() => {
                alert("‚öîÔ∏è –ë–ò–¢–í–ê –° –ë–û–°–°–û–ú –ù–ê–ß–ê–õ–ê–°–¨!\n\nüëë –ë–æ—Å—Å '–¢–∏—Ç–∞–Ω' –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω\nüíÄ 150 HP, 25 —É—Ä–æ–Ω–∞ –∑–∞ –∫–∞—Å–∞–Ω–∏–µ\nüêå –í 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ –æ–±—ã—á–Ω–æ–≥–æ\nüèÜ –ù–∞–≥—Ä–∞–¥–∞: –∑–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ!");
            }, 500);
        }
        
        function updateBossHealthBar(){
            if(!boss) return;
            const percent = (boss.hp / boss.maxHp) * 100;
            document.getElementById('boss-health-bar').style.width = percent + '%';
            document.getElementById('boss-health-text').textContent = `üëë –ë–û–°–°: ${boss.hp}/${boss.maxHp} HP`;
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Å—Å–∞ - –ò–°–ü–†–ê–í–õ–ï–ù–û: –±–æ—Å—Å –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è –Ω–∞ –ø–∞—É–∑–µ
        function updateBoss(){
            if(!boss || !gameStarted || paused) return; // –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–∞—É–∑—É
            
            const currentTime = Date.now();
            
            // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–æ—Å–ª–µ —Å–ø–∞–≤–Ω–∞ (3 —Å–µ–∫—É–Ω–¥—ã)
            if(currentTime - boss.spawnTime < boss.spawnDelay){
                return; // –ë–æ—Å—Å –Ω–µ –¥–≤–∏–≥–∞–µ—Ç—Å—è –ø–µ—Ä–≤—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã
            }
            
            const dx = player.x - boss.x;
            const dy = player.y - boss.y;
            const dist = Math.sqrt(dx*dx + dy*dy);
            
            if(dist > 0){
                boss.x += (dx / dist) * boss.speed;
                boss.y += (dy / dist) * boss.speed;
            }
            
            // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö —ç–∫—Ä–∞–Ω–∞
            boss.x = Math.max(boss.size, Math.min(c.width - boss.size, boss.x));
            boss.y = Math.max(boss.size, Math.min(c.height - boss.size, boss.y));
            
            boss.rotation += 0.08;
            
            // –°—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å –∏–≥—Ä–æ–∫–æ–º - 25 —É—Ä–æ–Ω–∞ –∑–∞ –∫–∞—Å–∞–Ω–∏–µ
            if(distance(player.x, player.y, boss.x, boss.y) < player.size + boss.size){
                player.hp -= 25;
                createParticles(player.x, player.y, '#f00', 20);
            }
            
            updateBossHealthBar();
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–º–µ—Ä—Ç–∏ –±–æ—Å—Å–∞
            if(boss.hp <= 0){
                defeatBoss();
            }
        }
        
        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –±–æ—Å—Å–∞
        function drawBoss(){
            if(!boss) return;
            
            ctx.save();
            ctx.translate(boss.x, boss.y);
            ctx.rotate(boss.rotation);
            
            // –û—Å–Ω–æ–≤–Ω–æ–µ —Ç–µ–ª–æ
            ctx.fillStyle = boss.color;
            ctx.beginPath();
            ctx.ellipse(0, -10, boss.size*0.9, boss.size*0.6, 0, 0, Math.PI*2);
            ctx.fill();
            
            // –°—Ä–µ–¥–Ω—è—è —á–∞—Å—Ç—å
            ctx.fillStyle = '#c80';
            ctx.beginPath();
            ctx.ellipse(0, 0, boss.size*0.8, boss.size*0.5, 0, 0, Math.PI*2);
            ctx.fill();
            
            // –ù–∏–∂–Ω—è—è —á–∞—Å—Ç—å
            ctx.fillStyle = '#f90';
            ctx.beginPath();
            ctx.ellipse(0, 10, boss.size*0.7, boss.size*0.4, 0, 0, Math.PI*2);
            ctx.fill();
            
            // –ì–ª–∞–∑
            ctx.fillStyle = '#f00';
            ctx.beginPath();
            ctx.arc(0, -15, 12, 0, Math.PI*2);
            ctx.fill();
            
            // –ó—Ä–∞—á–æ–∫
            ctx.fillStyle = '#000';
            ctx.beginPath();
            ctx.arc(0, -15, 6, 0, Math.PI*2);
            ctx.fill();
            
            // –®–∏–ø—ã
            ctx.strokeStyle = '#f90';
            ctx.lineWidth = 4;
            for(let i=0; i<8; i++){
                const angle = (i / 8) * Math.PI * 2;
                ctx.beginPath();
                ctx.moveTo(Math.cos(angle)*boss.size*0.8, Math.sin(angle)*boss.size*0.8);
                ctx.lineTo(Math.cos(angle)*boss.size, Math.sin(angle)*boss.size);
                ctx.stroke();
            }
            
            // –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ
            ctx.shadowColor = '#f90';
            ctx.shadowBlur = 20;
            ctx.beginPath();
            ctx.arc(0, 0, boss.size, 0, Math.PI*2);
            ctx.stroke();
            ctx.shadowBlur = 0;
            
            ctx.restore();
        }
        
        // –ü–æ–±–µ–¥–∞ –Ω–∞–¥ –±–æ—Å—Å–æ–º - –ò–°–ü–†–ê–í–õ–ï–ù–û: —Ç–æ–ª—å–∫–æ –∑–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
        function defeatBoss(){
            // –¢–û–õ–¨–ö–û –∑–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ
            player.achievements.bossSlayer = true;
            player.achievements.goldenSkin = true;
            player.hasGoldSkin = true;
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–æ–ª–æ—Å–∫—É –∑–¥–æ—Ä–æ–≤—å—è
            document.getElementById('boss-health-container').style.display = 'none';
            
            // –°–æ–∑–¥–∞–µ–º –º–Ω–æ–≥–æ —á–∞—Å—Ç–∏—Ü
            createParticles(boss.x, boss.y, '#ff0', 100);
            createParticles(boss.x, boss.y, '#f90', 100);
            createParticles(boss.x, boss.y, '#0ff', 100);
            
            // –°–æ–æ–±—â–µ–Ω–∏–µ –æ –ø–æ–±–µ–¥–µ
            showAchievementNotification("‚öîÔ∏è –ü–û–ö–û–†–ò–¢–ï–õ–¨ –¢–ò–¢–ê–ù–ê", "–ë–æ—Å—Å –ø–æ–±–µ–∂–¥–µ–Ω! –ü–æ–ª—É—á–µ–Ω –∑–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω!");
            
            boss = null;
            bossFight = false;
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            saveAchievements();
        }
        
        // –ö–æ—Å–º–∏—á–µ—Å–∫–∏–π –∫–æ—Ä–∞–±–ª—å –∏–≥—Ä–æ–∫–∞
        function updatePlayer(){
            if(paused || !gameStarted) return;
            
            const dx=mouse.x-player.x;
            const dy=mouse.y-player.y;
            const dist=Math.sqrt(dx*dx+dy*dy);
            
            const speed=5;
            if(dist>10){
                player.x+=dx/dist*speed;
                player.y+=dy/dist*speed;
            }
            
            const rotationSpeed=0.08;
            if(keys['—Ñ']||keys['–∞']||keys['f']||keys['a']||keys['arrowleft']) {
                player.rotation -= rotationSpeed;
            }
            if(keys['–≤']||keys['–¥']||keys['d']||keys['arrowright']) {
                player.rotation += rotationSpeed;
            }
            
            if(settings.shootType==='auto'&&Math.random()<0.15){
                shoot();
            }
            
            if(!player.canShoot){
                player.shootCooldown-=16;
                const cooldownPercent=(1-player.shootCooldown/player.maxCooldown)*100;
                document.getElementById('cooldown-fill').style.width=cooldownPercent+'%';
                
                if(player.shootCooldown<=0){
                    player.canShoot=true;
                    document.getElementById('shoot-cooldown').style.display='none';
                }
            }
        }
        
        function drawPlayer(){
            if(!gameStarted) return;
            
            ctx.save();
            ctx.translate(player.x, player.y);
            ctx.rotate(player.rotation);
            
            // –ó–æ–ª–æ—Ç–æ–π —Å–∫–∏–Ω –µ—Å–ª–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω
            if(player.hasGoldSkin){
                const gradient = ctx.createLinearGradient(-20, -25, 20, 25);
                gradient.addColorStop(0, '#FFD700');
                gradient.addColorStop(0.5, '#FFA500');
                gradient.addColorStop(1, '#FF8C00');
                ctx.fillStyle = gradient;
                
                ctx.strokeStyle = '#f00';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(-10, -15);
                ctx.lineTo(10, -15);
                ctx.moveTo(-12, 0);
                ctx.lineTo(12, 0);
                ctx.moveTo(-8, 15);
                ctx.lineTo(8, 15);
                ctx.stroke();
            } else {
                ctx.fillStyle='#0ff';
            }
            
            ctx.beginPath();
            ctx.moveTo(0,-25);
            ctx.lineTo(-15,15);
            ctx.lineTo(15,15);
            ctx.closePath();
            ctx.fill();
            
            ctx.fillStyle=player.hasGoldSkin ? '#FFD700' : '#8af';
            ctx.beginPath();
            ctx.arc(0,-5,8,0,Math.PI*2);
            ctx.fill();
            
            ctx.fillStyle='#f90';
            ctx.beginPath();
            ctx.moveTo(-10,15);
            ctx.lineTo(0,25);
            ctx.lineTo(10,15);
            ctx.closePath();
            ctx.fill();
            
            ctx.fillStyle='#ff0';
            ctx.beginPath();
            ctx.arc(-8,18,3,0,Math.PI*2);
            ctx.arc(8,18,3,0,Math.PI*2);
            ctx.fill();
            
            const hpPercent = player.hp / player.maxHp;
            ctx.fillStyle=hpPercent>0.5?'#0f0':hpPercent>0.2?'#ff0':'#f00';
            ctx.fillRect(-20, -40, 40 * hpPercent, 4);
            
            ctx.strokeStyle='#0f0';
            ctx.lineWidth=2;
            ctx.beginPath();
            ctx.arc(0,0,35,0,Math.PI*2);
            ctx.stroke();
            
            ctx.strokeStyle='#f00';
            ctx.lineWidth=2;
            ctx.beginPath();
            ctx.moveTo(0,0);
            ctx.lineTo(0,-40);
            ctx.stroke();
            
            ctx.restore();
        }
        
        // –°—Ç—Ä–µ–ª—å–±–∞
        function shoot(){
            if(!player.canShoot || paused || !gameStarted) return;
            
            const now=Date.now();
            if(now-lastShotTime<getFireRateDelay()) return;
            
            player.canShoot=false;
            player.shootCooldown=getMaxCooldown();
            document.getElementById('shoot-cooldown').style.display='block';
            lastShotTime=now;
            
            switch(settings.bulletType){
                case 'single':
                    createBullet(0);
                    break;
                    
                case 'double':
                    createBullet(-0.05);
                    createBullet(0.05);
                    break;
                    
                case 'triple':
                    createBullet(0);
                    createBullet(-0.1);
                    createBullet(0.1);
                    break;
                    
                case 'spread':
                    for(let i=-2;i<=2;i++){
                        createBullet(i*0.15);
                    }
                    break;
                    
                case 'circle':
                    for(let i=0;i<8;i++){
                        const angle = (i / 8) * Math.PI * 2;
                        createBullet(angle);
                    }
                    break;
            }
            
            createParticles(player.x,player.y,'#ff0',5);
        }
        
        function createBullet(angleOffset){
            const angle = (typeof angleOffset === 'number') ? 
                         (settings.bulletType === 'circle' ? angleOffset : player.rotation + angleOffset) : 
                         player.rotation;
            
            const speed=12;
            
            const startX = player.x + Math.sin(angle) * 25;
            const startY = player.y - Math.cos(angle) * 25;
            
            bullets.push({
                x: startX,
                y: startY,
                vx: Math.sin(angle) * speed,
                vy: -Math.cos(angle) * speed,
                size:8,
                color:'#ff0',
                life:100
            });
        }
        
        function getFireRateDelay(){
            switch(settings.fireRate){
                case 'slow': return 500;
                case 'normal': return 300;
                case 'fast': return 100;
            }
            return 300;
        }
        
        function getMaxCooldown(){
            switch(settings.fireRate){
                case 'slow': return 500;
                case 'normal': return 300;
                case 'fast': return 100;
            }
            return 300;
        }
        
        // –í—Ä–∞–≥–∏ —Å —É—á–µ—Ç–æ–º —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        function spawnEnemy(){
            if(!gameStarted || bossFight) return;
            
            const side=Math.random()*4;
            let x,y;
            if(side<1){x=-30;y=Math.random()*c.height;}
            else if(side<2){x=c.width+30;y=Math.random()*c.height;}
            else if(side<3){x=Math.random()*c.width;y=-30;}
            else{x=Math.random()*c.width;y=c.height+30;}
            
            const types=[
                {size:25,speed:1.5,hp:2,color:'#f00', type: 'scout'},
                {size:35,speed:0.8,hp:4,color:'#0f0', type: 'tank'},
                {size:20,speed:2.0,hp:1,color:'ff0', type: 'assassin'}
            ];
            const type=types[Math.floor(Math.random()*types.length)];
            
            const diff = difficultySettings[settings.difficulty];
            
            const baseHp = type.hp + Math.floor(player.wave/2);
            const finalHp = Math.floor(baseHp * diff.hpMultiplier);
            const finalSpeed = type.speed * diff.speedMultiplier + player.wave * 0.15;
            
            enemies.push({
                x,y,
                size:type.size,
                speed: finalSpeed,
                color:type.color,
                hp: finalHp,
                maxHp: finalHp,
                baseHp: finalHp,
                rotation:0,
                type: type.type,
                difficulty: settings.difficulty,
                lastMoveTime: Date.now(),
                movePattern: Math.random() * 3,
                evasionChance: diff.evasion,
                accuracy: diff.accuracy
            });
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–∞–≥–æ–≤ - –ò–°–ü–†–ê–í–õ–ï–ù–û: –≤—Ä–∞–≥–∏ –Ω–µ –¥–≤–∏–≥–∞—é—Ç—Å—è –Ω–∞ –ø–∞—É–∑–µ
        function updateEnemies(){
            if(paused || !gameStarted) return; // –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–∞—É–∑—É
            
            const diff = difficultySettings[settings.difficulty];
            const currentTime = Date.now();
            
            enemies.forEach(e=>{
                const dx=player.x-e.x;
                const dy=player.y-e.y;
                const dist=Math.sqrt(dx*dx+dy*dy);
                
                let moveX = dx/dist * e.speed;
                let moveY = dy/dist * e.speed;
                
                if(diff.evasion > 0 && e.type !== 'tank') {
                    const time = currentTime / 1000;
                    
                    bullets.forEach(b=>{
                        const bulletDist = distance(e.x, e.y, b.x, b.y);
                        if(bulletDist < 100 && Math.random() < e.evasionChance) {
                            moveX += (e.x - b.x) / bulletDist * 2;
                            moveY += (e.y - b.y) / bulletDist * 2;
                        }
                    });
                    
                    switch(Math.floor(e.movePattern)) {
                        case 0:
                            moveX += Math.sin(time * 3 + e.x * 0.01) * 3;
                            moveY += Math.cos(time * 3 + e.y * 0.01) * 3;
                            break;
                        case 1:
                            moveX += Math.sin(time * 2) * 2;
                            moveY += Math.cos(time * 2) * 2;
                            break;
                        case 2:
                            if(currentTime - e.lastMoveTime > 500) {
                                moveX += (Math.random() - 0.5) * 10;
                                moveY += (Math.random() - 0.5) * 10;
                                e.lastMoveTime = currentTime;
                            }
                            break;
                    }
                }
                
                e.x += moveX;
                e.y += moveY;
                
                e.x = Math.max(e.size, Math.min(c.width - e.size, e.x));
                e.y = Math.max(e.size, Math.min(c.height - e.size, e.y));
                
                e.rotation += 0.05 + (diff.speedMultiplier * 0.02);
                
                if(distance(player.x, player.y, e.x, e.y) < player.size + e.size){
                    player.hp -= 10 * diff.damageMultiplier;
                    e.hp = 0;
                    createParticles(e.x, e.y, e.color, 20);
                }
            });
            
            enemies = enemies.filter(e => e.hp > 0);
        }
        
        function drawEnemies(){
            if(!gameStarted) return;
            
            enemies.forEach(e=>{
                ctx.save();
                ctx.translate(e.x, e.y);
                ctx.rotate(e.rotation);
                
                ctx.fillStyle = e.color;
                
                if(e.type === 'tank') {
                    ctx.beginPath();
                    ctx.ellipse(0, -5, e.size*0.9, e.size*0.5, 0, 0, Math.PI*2);
                    ctx.fill();
                    
                    ctx.fillStyle = '#888';
                    ctx.beginPath();
                    ctx.ellipse(0, 0, e.size*0.7, e.size*0.4, 0, 0, Math.PI*2);
                    ctx.fill();
                    
                    ctx.fillStyle = e.color;
                    ctx.beginPath();
                    ctx.ellipse(0, 5, e.size*0.8, e.size*0.35, 0, 0, Math.PI*2);
                    ctx.fill();
                } else if(e.type === 'assassin') {
                    ctx.beginPath();
                    ctx.moveTo(0, -e.size);
                    ctx.lineTo(-e.size*0.7, e.size*0.5);
                    ctx.lineTo(e.size*0.7, e.size*0.5);
                    ctx.closePath();
                    ctx.fill();
                } else {
                    ctx.beginPath();
                    ctx.ellipse(0, -5, e.size*0.8, e.size*0.4, 0, 0, Math.PI*2);
                    ctx.fill();
                    
                    ctx.beginPath();
                    ctx.ellipse(0, 5, e.size*0.6, e.size*0.3, 0, 0, Math.PI*2);
                    ctx.fill();
                }
                
                ctx.fillStyle='#8af';
                ctx.beginPath();
                ctx.arc(0, -8, e.size*0.4, 0, Math.PI*2);
                ctx.fill();
                
                ctx.fillStyle='#ff0';
                const lightCount = e.difficulty === 'impossible' ? 8 : 
                                  e.difficulty === 'hard' ? 6 : 4;
                for(let i=0; i<lightCount; i++){
                    const angle = (i / lightCount) * Math.PI * 2;
                    ctx.beginPath();
                    ctx.arc(Math.cos(angle)*e.size*0.7, Math.sin(angle)*e.size*0.7, 
                           e.difficulty === 'impossible' ? 4 : 3, 0, Math.PI*2);
                    ctx.fill();
                }
                
                ctx.restore();
                
                const hpPercent = e.hp / e.maxHp;
                let healthColor;
                if(e.difficulty === 'impossible') {
                    healthColor = hpPercent>0.6?'#f00':hpPercent>0.3?'#f90':'#f00';
                } else if(e.difficulty === 'hard') {
                    healthColor = hpPercent>0.6?'#f90':hpPercent>0.3?'#ff0':'#f00';
                } else {
                    healthColor = hpPercent>0.5?'#0f0':hpPercent>0.2?'#ff0':'#f00';
                }
                
                ctx.fillStyle = healthColor;
                const barWidth = 30 + (difficultySettings[e.difficulty].hpMultiplier * 5);
                ctx.fillRect(e.x - barWidth/2, e.y - e.size - 20, barWidth * hpPercent, 5);
                
                ctx.strokeStyle = e.difficulty === 'impossible' ? '#f00' :
                                 e.difficulty === 'hard' ? '#f90' :
                                 e.difficulty === 'normal' ? '#ff0' : '#0f0';
                ctx.lineWidth = 1;
                ctx.strokeRect(e.x - barWidth/2, e.y - e.size - 20, barWidth, 5);
            });
        }
        
        // –ü—É–ª–∏ —Å —É—á–µ—Ç–æ–º —É–∫–ª–æ–Ω–µ–Ω–∏—è –≤—Ä–∞–≥–æ–≤
        function updateBullets(){
            if(paused || !gameStarted) return;
            
            bullets.forEach(b=>{
                b.x+=b.vx;
                b.y+=b.vy;
                b.life--;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è –ø–æ –±–æ—Å—Å—É
                if(boss && distance(b.x, b.y, boss.x, boss.y) < b.size + boss.size){
                    boss.hp--;
                    b.life=0;
                    player.score+=Math.floor(100 * SCORE_MULTIPLIER);
                    createParticles(b.x, b.y, '#f90', 15);
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ø–∞–¥–∞–Ω–∏—è –ø–æ –≤—Ä–∞–≥–∞–º
                enemies.forEach(e=>{
                    if(distance(b.x, b.y, e.x, e.y) < b.size + e.size){
                        if(Math.random() > e.evasionChance) {
                            e.hp--;
                            b.life=0;
                            if(e.type === 'tank'){
                                player.score+=Math.floor(400 * SCORE_MULTIPLIER);
                                player.stats.tanksKilled++;
                            } else {
                                player.score+=Math.floor(50 * SCORE_MULTIPLIER);
                            }
                            createParticles(b.x, b.y, b.color, 10);
                            
                            if(e.hp<=0){
                                const diffBonus = e.difficulty === 'impossible' ? 500 :
                                                 e.difficulty === 'hard' ? 300 :
                                                 e.difficulty === 'normal' ? 150 : 100;
                                player.score += Math.floor((200 + diffBonus) * SCORE_MULTIPLIER);
                                createParticles(e.x, e.y, e.color, 30);
                                player.stats.enemiesKilled++;
                            }
                        } else {
                            createParticles(b.x, b.y, '#888', 5);
                            b.life=0;
                        }
                    }
                });
            });
            
            bullets=bullets.filter(b=>b.life>0&&b.x>0&&b.x<c.width&&b.y>0&&b.y<c.height);
        }
        
        function drawBullets(){
            if(!gameStarted) return;
            
            bullets.forEach(b=>{
                ctx.strokeStyle=b.color;
                ctx.lineWidth=3;
                ctx.beginPath();
                ctx.moveTo(b.x,b.y);
                ctx.lineTo(b.x-b.vx*0.5,b.y-b.vy*0.5);
                ctx.stroke();
                
                ctx.fillStyle='#fff';
                ctx.beginPath();
                ctx.arc(b.x,b.y,3,0,Math.PI*2);
                ctx.fill();
            });
        }
        
        // –ß–∞—Å—Ç–∏—Ü—ã
        function createParticles(x,y,color,count){
            for(let i=0;i<count;i++){
                particles.push({
                    x,y,
                    vx:(Math.random()-0.5)*10,
                    vy:(Math.random()-0.5)*10,
                    color,
                    life:30,
                    size:Math.random()*5+2
                });
            }
        }
        
        function updateParticles(){
            particles.forEach(p=>{
                p.x+=p.vx;
                p.y+=p.vy;
                p.life--;
            });
            particles=particles.filter(p=>p.life>0);
        }
        
        function drawParticles(){
            particles.forEach(p=>{
                ctx.globalAlpha=p.life/30;
                ctx.fillStyle=p.color;
                ctx.beginPath();
                ctx.arc(p.x,p.y,p.size,0,Math.PI*2);
                ctx.fill();
            });
            ctx.globalAlpha=1;
        }
        
        // –ú–∞–≥–∞–∑–∏–Ω
        function toggleShop(){
            if(!gameStarted) return;
            
            const shop=document.getElementById('shop');
            if(shop.style.display==='block'){
                shop.style.display='none';
                paused=false;
            }else{
                shop.style.display='block';
                paused=true;
                updateShopDisplay();
            }
        }
        
        function updateShopDisplay(){
            const upgrades = {
                'double': player.unlockedUpgrades.includes('double'),
                'triple': player.unlockedUpgrades.includes('triple'),
                'spread': player.unlockedUpgrades.includes('spread'),
                'circle': player.unlockedUpgrades.includes('circle')
            };
            
            for(const type in upgrades){
                const item = document.getElementById(`shop-${type}`);
                const status = document.getElementById(`status-${type}`);
                if(upgrades[type]){
                    item.classList.add('bought');
                    status.textContent = '‚úÖ –ö—É–ø–ª–µ–Ω–æ';
                    status.style.color = '#0f0';
                }else{
                    item.classList.remove('bought');
                    status.textContent = '–ù–µ –∫—É–ø–ª–µ–Ω–æ';
                    status.style.color = '#0f0';
                }
            }
            
            const healStatus = document.getElementById('status-heal');
            if(player.hp >= player.maxHp){
                healStatus.textContent = '‚ùå –ó–¥–æ—Ä–æ–≤—å–µ —É–∂–µ –ø–æ–ª–Ω–æ–µ';
                healStatus.style.color = '#f00';
            }else{
                healStatus.textContent = '–î–æ—Å—Ç—É–ø–Ω–æ';
                healStatus.style.color = '#0f0';
            }
        }
        
        function buyUpgrade(type, cost){
            if(player.score >= cost && !player.unlockedUpgrades.includes(type)){
                player.score -= cost;
                player.unlockedUpgrades.push(type);
                settings.bulletType = type;
                updateShopDisplay();
                player.stats.shopPurchases++;
                checkAchievements();
            }
        }
        
        function buyHeal(cost){
            if(player.hp >= player.maxHp) return;
            if(player.score >= cost){
                player.score -= cost;
                player.hp = player.maxHp;
                createParticles(player.x, player.y, '#0f0', 50);
                updateShopDisplay();
                player.stats.shopPurchases++;
                checkAchievements();
            }
        }
        
        // –°–º–µ–Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
        function changeDifficulty(){
            settings.difficulty = document.getElementById('difficulty-level').value;
            const diff = difficultySettings[settings.difficulty];
            
            const diffElement = document.getElementById('difficulty');
            diffElement.className = diff.colorClass;
            
            enemies.forEach(e => {
                e.difficulty = settings.difficulty;
                const newHp = Math.floor(e.baseHp * diff.hpMultiplier);
                e.maxHp = newHp;
                e.hp = Math.min(e.hp, newHp);
                e.speed = e.speed * (diff.speedMultiplier / difficultySettings[e.difficulty].speedMultiplier);
                e.evasionChance = diff.evasion;
            });
            
            document.getElementById('ui').innerHTML = 
                `Score: ${player.score} | Wave: ${player.wave} | ‚ù§Ô∏è ${player.hp}/${player.maxHp} | ${diff.description}`;
        }
        
        // –ü–∞—É–∑–∞
        function togglePause(){
            if(!gameStarted) return;
            
            paused = !paused;
            document.getElementById('pause').style.display = paused ? 'block' : 'none';
            const pauseBtn = document.getElementById('pause-btn');
            pauseBtn.textContent = paused ? '‚ñ∂ –ü–†–û–î–û–õ–ñ–ò–¢–¨ (P)' : '‚è∏ –ü–ê–£–ó–ê (P)';
        }
        
        // –ù–∞—Å—Ç—Ä–æ–π–∫–∏
        function changeShootType(){
            settings.shootType=document.getElementById('shoot-type').value;
            player.canShoot=true;
            document.getElementById('shoot-cooldown').style.display='none';
        }
        
        function changeFireRate(){
            settings.fireRate=document.getElementById('fire-rate').value;
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function saveAchievements(){
            localStorage.setItem('spaceDefender_achievements', JSON.stringify(player.achievements));
            localStorage.setItem('spaceDefender_stats', JSON.stringify(player.stats));
            localStorage.setItem('spaceDefender_skin', player.hasGoldSkin.toString());
        }
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
        function loadAchievements(){
            const saved = localStorage.getItem('spaceDefender_achievements');
            const savedStats = localStorage.getItem('spaceDefender_stats');
            const savedSkin = localStorage.getItem('spaceDefender_skin');
            
            if(saved){
                try {
                    const loaded = JSON.parse(saved);
                    // –û–±—ä–µ–¥–∏–Ω—è–µ–º —Å —Ç–µ–∫—É—â–∏–º–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è–º–∏
                    for(const key in loaded){
                        if(player.achievements.hasOwnProperty(key)){
                            player.achievements[key] = loaded[key];
                        }
                    }
                } catch(e) {
                    console.log("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π");
                }
            }
            
            if(savedStats){
                try {
                    const loadedStats = JSON.parse(savedStats);
                    for(const key in loadedStats){
                        if(player.stats.hasOwnProperty(key)){
                            player.stats[key] = loadedStats[key];
                        }
                    }
                } catch(e) {
                    console.log("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏");
                }
            }
            
            if(savedSkin){
                player.hasGoldSkin = savedSkin === 'true';
            }
        }
        
        // –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª
        function update(){
            if(player.hp<=0 || !gameStarted) return;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –≤—Ä–µ–º—è –∏–≥—Ä—ã
            if(player.stats.startTime === 0){
                player.stats.startTime = Date.now();
            }
            player.stats.timePlayed = Math.floor((Date.now() - player.stats.startTime) / 1000);
            
            updatePlayer();
            updateBullets();
            updateEnemies();
            updateParticles();
            
            if(bossFight && boss){
                updateBoss();
            }
            
            const diff = difficultySettings[settings.difficulty];
            
            if(!bossFight){
                const currentSpawnRate = diff.spawnRate * (1 + player.wave * 0.08);
                const maxEnemies = diff.maxEnemies + Math.floor(player.wave/2) + diff.spawnBonus;
                
                if(enemies.length < maxEnemies && Math.random() < currentSpawnRate && !paused){
                    spawnEnemy();
                    if(diff.spawnRate > 0.05 && Math.random() < 0.3) {
                        spawnEnemy();
                    }
                }
                
                if(enemies.length===0 && !paused){
                    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–¥–µ–∞–ª—å–Ω—É—é –≤–æ–ª–Ω—É
                    if(player.stats.perfectWave){
                        player.stats.wavesWithoutDamage++;
                        if(player.stats.wavesWithoutDamage === 1){ // –ü–µ—Ä–≤–∞—è –∏–¥–µ–∞–ª—å–Ω–∞—è –≤–æ–ª–Ω–∞
                            player.achievements.perfect = true;
                            checkAchievements();
                        }
                    }
                    
                    player.wave++;
                    player.stats.wavesCompleted++;
                    
                    // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∏–¥–µ–∞–ª—å–Ω–æ–π –≤–æ–ª–Ω—ã –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–π –≤–æ–ª–Ω—ã
                    player.stats.perfectWave = true;
                    
                    const initialEnemies = 3 + diff.spawnBonus + Math.floor(player.wave/3);
                    for(let i=0; i<initialEnemies; i++) spawnEnemy();
                    createParticles(c.width/2, c.height/2, '#0ff', 50);
                }
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            checkAchievements();
            
            const diffText = difficultySettings[settings.difficulty].description;
            document.getElementById('ui').innerHTML=
                `Score: ${player.score} | Wave: ${player.wave} | ‚ù§Ô∏è ${player.hp}/${player.maxHp} | ${diffText}`;
            
            if(player.hp<=0){
                document.getElementById('restart').style.display='block';
                // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥ –∏–¥–µ–∞–ª—å–Ω–æ–π –≤–æ–ª–Ω—ã –ø—Ä–∏ —Å–º–µ—Ä—Ç–∏
                player.stats.perfectWave = false;
            }
        }
        
        function draw(){
            if(!gameStarted) return;
            
            ctx.fillStyle='#000';
            ctx.fillRect(0,0,c.width,c.height);
            
            const starCount = mapSizes[currentMapSize].stars;
            for(let i=0;i<starCount;i++){
                const x=(player.x/20+i*13)%c.width;
                const y=(player.y/20+i*17)%c.height;
                const size=Math.sin(Date.now()/1000+i)*0.5+1;
                
                ctx.fillStyle=i%3===0?'#fff':i%3===1?'#8af':'#f8f';
                ctx.fillRect(x,y,size,size);
            }
            
            ctx.globalAlpha=0.1;
            ctx.fillStyle='#80f';
            const nebulaSize = c.width * 0.15;
            ctx.beginPath();
            ctx.arc(c.width*0.3,c.height*0.7,nebulaSize,0,Math.PI*2);
            ctx.fill();
            
            ctx.fillStyle='#0ff';
            ctx.beginPath();
            ctx.arc(c.width*0.7,c.height*0.3,nebulaSize*0.75,0,Math.PI*2);
            ctx.fill();
            ctx.globalAlpha=1;
            
            drawParticles();
            drawEnemies();
            drawBullets();
            
            if(boss){
                drawBoss();
            }
            
            drawPlayer();
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init(){
            player={
                x:c.width/2,
                y:c.height/2,
                size:30,
                hp:100,
                maxHp:100,
                score:0,
                wave:1,
                canShoot:true,
                shootCooldown:0,
                maxCooldown:300,
                rotation:0,
                unlockedUpgrades: [],
                hasGoldSkin: player ? player.hasGoldSkin : false,
                achievements: {
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
                    firstBlood: player ? player.achievements.firstBlood : false,
                    firstWave: player ? player.achievements.firstWave : false,
                    shopper: player ? player.achievements.shopper : false,
                    survivor: player ? player.achievements.survivor : false,
                    richer: player ? player.achievements.richer : false,
                    veteran: player ? player.achievements.veteran : false,
                    sharpshooter: player ? player.achievements.sharpshooter : false,
                    tankbuster: player ? player.achievements.tankbuster : false,
                    millionaire: player ? player.achievements.millionaire : false,
                    upgrader: player ? player.achievements.upgrader : false,
                    hardSurvivor: player ? player.achievements.hardSurvivor : false,
                    perfect: player ? player.achievements.perfect : false,
                    waveKing: player ? player.achievements.waveKing : false,
                    bossSlayer: player ? player.achievements.bossSlayer : false,
                    goldenSkin: player ? player.achievements.goldenSkin : false,
                    impossibleHero: player ? player.achievements.impossibleHero : false,
                    noShop: player ? player.achievements.noShop : false,
                    speedrun: player ? player.achievements.speedrun : false,
                    master: player ? player.achievements.master : false,
                    legend: player ? player.achievements.legend : false
                },
                stats: {
                    enemiesKilled: 0,
                    tanksKilled: player ? player.stats.tanksKilled : 0,
                    timePlayed: 0,
                    wavesWithoutDamage: 0,
                    shopPurchases: 0,
                    startTime: 0,
                    currentWaveStartTime: 0,
                    wavesCompleted: 0,
                    perfectWave: true // –ù–∞—á–∏–Ω–∞–µ–º —Å —Ñ–ª–∞–≥–∞ –∏–¥–µ–∞–ª—å–Ω–æ–π –≤–æ–ª–Ω—ã
                }
            };
            bullets=[];
            enemies=[];
            particles=[];
            lastShotTime=0;
            paused=false;
            settings.bulletType = 'single';
            settings.difficulty = 'easy';
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
            loadAchievements();
            
            document.getElementById('restart').style.display='none';
            document.getElementById('pause').style.display='none';
            document.getElementById('shop').style.display='none';
            document.getElementById('boss-health-container').style.display='none';
            document.getElementById('exit-menu').style.display='none';
            document.getElementById('difficulty-level').value = 'easy';
            document.getElementById('map-size').value = settings.mapSize;
            
            const diffElement = document.getElementById('difficulty');
            diffElement.className = 'difficulty-easy';
            
            const pauseBtn = document.getElementById('pause-btn');
            pauseBtn.textContent = '‚è∏ –ü–ê–£–ó–ê (P)';
            
            if(bossFight){
                createBoss();
            } else {
                for(let i=0;i<3;i++) spawnEnemy();
            }
            
            updateAchievementsDisplay();
        }
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∞–≤–∏—à
        window.addEventListener('keydown', function(e) {
            const key = e.key.toLowerCase();
            keys[key] = true;
            
            if(key === 'p' || key === '–ø') {
                e.preventDefault();
                togglePause();
            }
            
            if(key === 'b' || key === '–∏') {
                e.preventDefault();
                toggleShop();
            }
            
            // ESC –¥–ª—è –≤—ã—Ö–æ–¥–∞ –≤ –º–µ–Ω—é
            if(key === 'escape') {
                e.preventDefault();
                showExitMenu();
            }
            
            if(key === 'arrowleft') keys['arrowleft'] = true;
            if(key === 'arrowright') keys['arrowright'] = true;
        });
        
        window.addEventListener('keyup', function(e) {
            const key = e.key.toLowerCase();
            keys[key] = false;
            
            if(key === 'arrowleft') keys['arrowleft'] = false;
            if(key === 'arrowright') keys['arrowright'] = false;
        });
        
        window.addEventListener('keypress', function(e) {
            const key = e.key.toLowerCase();
            
            if(key === '–∑') {
                e.preventDefault();
                togglePause();
            }
            if(key === '–∏') {
                e.preventDefault();
                toggleShop();
            }
        });
        
        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –º—ã—à–∏
        c.addEventListener('mousemove',e=>{
            const rect = c.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
        });
        
        c.addEventListener('click',e=>{
            if(settings.shootType==='manual' && !paused && gameStarted){
                shoot();
            }
        });
        
        // –ó–∞–ø—É—Å–∫
        loadAchievements();
        setInterval(()=>{update();draw();},16);
    </script>
</body>
</html>
